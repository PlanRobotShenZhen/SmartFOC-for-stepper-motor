
## SmartFOC-for-stepper-motor
本项目基于24V的42步进电机设计，搭配MT6835编码器实现步进电机的闭环控制，旨在提供稳定可靠、逻辑清晰的步进FOC驱动解决方案。硬件层面搭配17位磁编码器与步进驱动电路，确保位置检测精度与系统运行稳定性；软件层面基于C语言开发，结构简洁清晰，代码易于理解，可通过Keil5直接编译，便于快速部署与调试。具体控制架构如下图；
	

<img src="asset\控制框架.png" alt="system" style="display: block; margin: 5px auto;zoom:85%" />

控制核心与技术特点

系统采用磁场定向控制（FOC）三环架构（位置环+速度环+电流环），核心技术亮点包括：

（1）SVPWM（空间矢量脉宽调制）技术，提升电压利用率与电机运行平稳性；

（2）集成S型速度规划算法，实现运动过程的平滑启停与加减速控制；

（3）内置实时过流保护、缺相检测等多重防护逻辑，保障系统安全运行；

（4）兼容Modbus与CANopen工业通信协议，可直接对接各类工业设备与上位机系统；

（5）软件采用模块化架构设计，代码逻辑清晰，易于理解与二次开发。

核心功能

（1）灵活支持位置、速度、扭矩三种闭环控制模式的切换，适配多样化控制需求；

（2）基于ADC的高精度电流采样与实时处理算法，确保电流环控制的快速响应与精准性；

（3）完备的保护机制：涵盖过流、过压、欠压、零点缺失等异常状态监测与处理；

（4）标准工业通信接口（Modbus/CANopen），支持通过本公司的上位机实现参数配置、状态监控与远程控制。

适用场景

应用于小型工业自动化设备、3D打印机、医疗设备或教学等领域。

更多技术细节详见普蓝机器人官网：http://www.planrobots.com/